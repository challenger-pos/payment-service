spring:
  application:
    name: billing-service

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:development}

  main:
    allow-circular-references: false

<<<<<<< HEAD
=======
  # Flyway Configuration
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    clean-disabled: true
    out-of-order: false

>>>>>>> 874da5d659f8f0227b13a5ef37e537fd54c18408
server:
  port: 8080

# Scheduling Configuration
spring.task.scheduling:
  enabled: true

# Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
      base-path: /actuator
  endpoint:
    health:
      show-details: always
  health:
    livenessState:
      enabled: true
    readinessState:
      enabled: true
  metrics:
    enable:
      jvm: true
      process: true
      system: true
      logback: true

# DynamoDB Configuration
dynamodb:
  table-name: ${AWS_DYNAMODB_TABLE_NAME:payments}

# Datadog Tracing
dd:
  service: payment-service
  trace:
    enabled: true
    http:
      client:
        tag:
          query-string: true
    logs:
      injection: true

# Datadog StatsD (custom metrics)
datadog:
  statsd:
    host: ${DATADOG_STATSD_HOST:localhost}
    port: ${DATADOG_STATSD_PORT:8125}

aws:
  region: ${AWS_REGION:us-east-2}
  dynamodb:
    endpoint: ${AWS_DYNAMODB_ENDPOINT:}
  access:
    key: ${AWS_ACCESS_KEY:}
  secret:
    key: ${AWS_SECRET_KEY:}
